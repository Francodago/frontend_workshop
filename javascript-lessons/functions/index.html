<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Functions Exercises</title>
</head>
<body>
    <script>
//Basic function practice
let addNum = function(num1, num2){
    let result = console.log(`The result of the addition is: ${num1+num2}`)
    return result
}
// addNum(2,2)
//Greeting function. Take the user's name and shows a greeting
function greeting(){
  let person = prompt("hello, What is your name?")
  if (person ===null || person ===""){
console.log('the user cancelled the prompt')
  }else console.log("Hello, "+person+". How are you today?")
}
// greeting()
//Check if the number is even or odd
let numCheck =()=>{
    let input= prompt("Please enter a number")
    if(input%2===0){
        console.log("The number "+input+" is even")
    }
    else{console.log("The number "+input+" is odd")}
}
// numCheck()
//Calculate the factorial of a number
//iterative solution
function factorial(n){
let result=1;
for(let i = 1; i <= n; i++){
    result *=i;
}
return result;
}
// console.log(factorial(5))


//recursive method
let factorial2=function(n){
if(n===0){
    return 1
}
return n*factorial2(n-1)
}
// console.log(factorial2(5))

//Modern js
//Implement recursion with a ternary operator to compress the solution further.
const factorial3= n => n===0 ? 1: n * factorial3(n-1);
// console.log(factorial3(5))

//reverse a string
function reverseStr(str){
    let result = str.split("").reverse().join("")
    console.log(result)
    return result
}
reverseStr("hello");

// IIFE = self-executing anonymous function

//Standard IIFE
(function greeting(){
    console.log("This is an IIFE")
    return "Hello world"
})();
//arrow variant
((name)=>{
console.log(name+" wants to eat pizza but he needs to buy it")
})("pepe");


// async IIFE
(async () => {
  
})();

//function that finds the largest number of an array
let largestNum= (numbers)=>{
let myArray = [2,3,5,8,54,1];
console.log("The largest number of my array is "+ Math.max(...myArray))

return Math.max(...myArray)
};
largestNum()
//pass any array as an argument and give the result
let theLargestNum = (numbers) => {
    console.log("The largest number of my array is " + Math.max(...numbers));
    return Math.max(...numbers);
};

console.log(theLargestNum([2, 3, 5, 8, 54, 1])); // 54

let getNegativeNumbers = function(numbers){
return numbers.filter((num)=>num <0)
};
console.log(getNegativeNumbers([-2, 3, -6, 8, -1]))

//traditional method
function showNegativeNumbers(numbers){
return numbers.filter(function(num){
    return num <0;
});
}
let myArray=[1, -2, -3, 4, 7, -5, 6, -8, -9]
let negativeArrays = showNegativeNumbers(myArray);
console.log(negativeArrays);

//function that returns true if a word is palindrome
//A palindrome is a word or sentence that’s spelled the same way both forward and backward, ignoring punctuation, case, and spacing.
//Note. You’ll need to remove all non-alphanumeric characters (punctuation, spaces and symbols) and turn everything lower case in order to check for palindromes.
//Which Regular Expression will we need to pass the (palindrome(“00 (: /-\ :) 0–0”) should return true)test case?
function palindrome(str){
     // Step 1. Lowercase the string and use the RegExp to remove unwanted characters from it
    let regEx=/[\W_]/g; //or let regEx = /[^A-Za-z0-9]/g;
    let lowStr = str.toLowerCase().replace(regEx, '');
    // str.toLowerCase() = "A man, a plan, a canal. Panama".toLowerCase()
    // str.replace(/[\W_]/g, '') = "a man, a plan, a canal. panama".replace(/[\W_]/g, '') = "amanaplanacanalpanama"
    // let lowStr = "amanaplanacanalpanama";
    let reverseStr = lowStr.split('').reverse().join('');
    // So, "amanaplanacanalpanama".split('').reverse().join('') = "amanaplanacanalpanama";
    // And, let reverseStr = "amanaplanacanalpanama";

      // Step 3. Check if reverseStr is strictly equals to lowRegStr and return a Boolean
    return lowStr===reverseStr;
}
console.log(palindrome("A man, a plan, a canal. Panama"));
console.log(palindrome("eye"));

//create a function that takes an array and an number, and returns how many times that numbers appears
const countOccurrences = (myArray, myNumber)=>
myArray.reduce((a,n)=>(n===myNumber? a+1:a), 0);

console.log(countOccurrences([1,2,3,4,4,5,6,3,7,4],4));
//Standard function declaration
function newCountOccurrences(myArray, myNumber) {
  return myArray.reduce(function (a, n) {
     // `a` is the accumulator (keeps count), `n` is the current element in the array.
    if (n === myNumber) {
          // If the current element equals `myNumber`, increase the count (`a + 1`).
      return a + 1;
    } else {
      return a;
       // If it doesn't match, return the count (`a` stays the same).
    }
  }, 0);
}
console.log(newCountOccurrences([1,2,3,4,4,5,6,3,7,4],4));

//function that returns the sum of all numbers in an array
let arraySum = function(myArray){
let sum =0;
for(let i=0;i<myArray.length;i++){
    sum = sum+myArray[i]
}
return sum;
}
console.log(arraySum([1,2,3]))
//pass an anonymous function to setTimeOut to log message after 2 seconds
setTimeout(function(){
    console.log("This is a callback function that logs after 2 secons")
},2000);
//simple calculator function
let calculator = ()=>{
    //take the operator input
    const operator =prompt("Enter the operator ( either +, -, *, / ): ");
    //take the operand input
    const num1=parseFloat(prompt("Enter the first number:"));
    const num2=parseFloat(prompt("Enter the second number:"));
// Check if the operator is valid
if (operator === '+' || operator === '-' || operator === '*' || operator === '/') {
    
    let result;
    if (operator ==='+'){
        result =num1 +num2;
    }else if(operator==='-'){
        result=num1 - num2;
    }else if(operator ==='*'){
        result=num1*num2;
    }else if(operator==='/'){
        if(num2===0){
            alert("Cannot divide by 0")
        }else{
        result =num1/num2;
        }
    }

    console.log(`The operation is: ${num1} ${operator} ${num2}, and the result is: ${result}`)
}else{
// If the operator is not valid, show an error message
alert("Invalid operator. Please use one of the following: +, -, *, /.");
}
}
//  calculator();

 //function that returns the current day of the week using Date
 function getDayOfWeek() {
    const today = new Date();  // Get the current date
    const dayIndex = today.getDay();  // Get the day of the week as a number (0-6)

    const daysOfWeek = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];

    return daysOfWeek[dayIndex];  // Return the day of the week based on the index
}

console.log(getDayOfWeek());  

//function to capitalize the first letter of each word in a sentence

let capitalizeLetter = function(sentence){
const words = sentence.split(" ");
for(let i=0; i<words.length; i++){
    words[i]=words[i][0].toUpperCase()+words[i].substring(1);
}
return words.join(" ");
}
console.log(capitalizeLetter("hello this is a test"))

//function that makes the Fizz Buzz game
let fizzBuzz = function(){
    let userInput = parseInt(prompt("Please enter the number you would like to FizzBuzz up to:"));
    for(let i=1; i<=userInput; i++){

        if(i%3===0 && i%5===0){
            console.log("FizzBuzz");
        }
        else if(i%3===0){
            console.log("Fizz");
        }
        else if(i%5===0){
        console.log("Buzz");
        }
        else{
            console.log(i);
        }
        }
    }
// fizzBuzz()

//Recursive functions (JS Recursion)
//Recursion is a programming technique where a function calls itself repeatedly to solve a problem.

//function to countdown till 1
let countdown =count =>{
console.log(count);
if(count>1){
count = count -1;
// call countdown with new value of count (recursion)
countdown(count);
}else return;
};
// countdown(10);

//recursive function that finds the factorial of a number
function factorial(num){
//base case. recurse only if number is greater than 0
if(num>1){
    return num * factorial(num-1);
}else
    return 1;
};
let myNum=5;
let y=factorial(myNum);
console.log(`The factorial of ${myNum} is ${y}`);
//Each return num * factorial(num - 1) is building up a math problem that is solved only after reaching the base case (return 1).

//Write a function to find the nth Fibonacci number.
function fibonacci(n){
//base case
if(n===1){
    return 0;
}else if(n==2){
return 1;
}
return fibonacci(n-1)+fibonacci(n-2);

};
console.log("fibonacci(5)"+fibonacci(5));
console.log("fibonacci(8)"+fibonacci(8));
//fibonacci(n) gives you the n-th Fibonacci number —NOT the whole sequence, just the last (n-th) number.
//using for loop
function fibonacci(num) {
    let num1 = 0;
    let num2 = 1;
    let sum;
    if (num === 1) {
        return num1;
    } else if (num === 2) {
        return num2;
    } else {
        for (let i = 3; i <= num; i++) {
            sum = num1 + num2;
            num1 = num2;
            num2 = sum;
        }
        return num2;
    }
}

console.log("Fibonacci(5): " + fibonacci(5));
console.log("Fibonacci(8): " + fibonacci(8));

    </script>
</body>
</html>
